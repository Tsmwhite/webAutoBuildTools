{"remainingRequest":"/usr/local/var/www/webAutoBuildTools/app/node_modules/babel-loader/lib/index.js!/usr/local/var/www/webAutoBuildTools/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/local/var/www/webAutoBuildTools/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/webAutoBuildTools/app/src/views/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/webAutoBuildTools/app/src/views/index.vue","mtime":1687937192691},{"path":"/usr/local/var/www/webAutoBuildTools/app/babel.config.js","mtime":1686297194630},{"path":"/usr/local/var/www/webAutoBuildTools/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/webAutoBuildTools/app/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/usr/local/var/www/webAutoBuildTools/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/webAutoBuildTools/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnOwppbXBvcnQgQ3B0RXhhbXBsZXMgZnJvbSAiQC9jb21wb25lbnRzL2NwdC1leGFtcGxlcy52dWUiOwppbXBvcnQgQ3B0SXRlbSBmcm9tICJAL2NvbXBvbmVudHMvY3B0LWl0ZW0udnVlIjsKaW1wb3J0IGRyYWd1bGEgZnJvbSAiZHJhZ3VsYSI7CmltcG9ydCAnZHJhZ3VsYS9kaXN0L2RyYWd1bGEubWluLmNzcyc7CmltcG9ydCBleGFtcGxlX2FsZXJ0IGZyb20gIkAvY29tcG9uZW50cy9leGFtcGxlcy9hbGVydC52dWUiOwppbXBvcnQgZXhhbXBsZV9hbGVydF9pbmZvIGZyb20gIkAvY29tcG9uZW50cy9leGFtcGxlcy9hbGVydF9pbmZvLnZ1ZSI7CmltcG9ydCBleGFtcGxlX2FsZXJ0X3dhcm5pbmcgZnJvbSAiQC9jb21wb25lbnRzL2V4YW1wbGVzL2FsZXJ0X3dhcm5pbmcudnVlIjsKaW1wb3J0IGV4YW1wbGVfYWJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvZXhhbXBsZXMvYWJ1dHRvbi52dWUiOwppbXBvcnQgZXhhbXBsZV9hc2VsZWN0IGZyb20gIkAvY29tcG9uZW50cy9leGFtcGxlcy9hc2VsZWN0LnZ1ZSI7CmltcG9ydCBleGFtcGxlX2F0YWJsZSBmcm9tICJAL2NvbXBvbmVudHMvZXhhbXBsZXMvYXRhYmxlLnZ1ZSI7CmltcG9ydCBleGFtcGxlX2FpbnB1dCBmcm9tICJAL2NvbXBvbmVudHMvZXhhbXBsZXMvYWlucHV0LnZ1ZSI7CmltcG9ydCBleGFtcGxlX2JhY2tncm91bmRfd2hpdGUgZnJvbSAiQC9jb21wb25lbnRzL2V4YW1wbGVzL2JhY2tncm91bmRfd2hpdGUudnVlIjsKaW1wb3J0IGV4YW1wbGVfYmFja2dyb3VuZF9ub3JtYWwgZnJvbSAiQC9jb21wb25lbnRzL2V4YW1wbGVzL2JhY2tncm91bmRfbm9ybWFsLnZ1ZSI7CmltcG9ydCBleGFtcGxlX2JhY2tncm91bmRfZmxleCBmcm9tICJAL2NvbXBvbmVudHMvZXhhbXBsZXMvYmFja2dyb3VuZF9mbGV4LnZ1ZSI7CmltcG9ydCBleGFtcGxlX2JhY2tncm91bmRfZmxleF9iZXR3ZWVuIGZyb20gIkAvY29tcG9uZW50cy9leGFtcGxlcy9iYWNrZ3JvdW5kX2ZsZXhfYmV0d2Vlbi52dWUiOwppbXBvcnQgZXhhbXBsZV9idXR0b25fYWRkIGZyb20gIkAvY29tcG9uZW50cy9leGFtcGxlcy9idXR0b25fYWRkLnZ1ZSI7CmltcG9ydCBleGFtcGxlX2J1dHRvbl9naG9zdCBmcm9tICJAL2NvbXBvbmVudHMvZXhhbXBsZXMvYnV0dG9uX2dob3N0LnZ1ZSI7CmltcG9ydCBleGFtcGxlX2J1dHRvbl9wcmltYXJ5IGZyb20gIkAvY29tcG9uZW50cy9leGFtcGxlcy9idXR0b25fcHJpbWFyeS52dWUiOwppbXBvcnQgZXhhbXBsZV9pbnB1dF9udW1iZXIgZnJvbSAiQC9jb21wb25lbnRzL2V4YW1wbGVzL2lucHV0X251bWJlci52dWUiOwppbXBvcnQgeyBjb21wb25lbnRzTWFwIH0gZnJvbSAiQC9jb21wb25lbnRzL2NvbmZpZy9jb21wb25lbnRzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENwdEl0ZW0sCiAgICBDcHRFeGFtcGxlcywKICAgIGV4YW1wbGVfYWxlcnQsCiAgICBleGFtcGxlX2FsZXJ0X2luZm8sCiAgICBleGFtcGxlX2FsZXJ0X3dhcm5pbmcsCiAgICBleGFtcGxlX2JhY2tncm91bmRfd2hpdGUsCiAgICBleGFtcGxlX2JhY2tncm91bmRfbm9ybWFsLAogICAgZXhhbXBsZV9iYWNrZ3JvdW5kX2ZsZXgsCiAgICBleGFtcGxlX2JhY2tncm91bmRfZmxleF9iZXR3ZWVuLAogICAgZXhhbXBsZV9hYnV0dG9uLAogICAgZXhhbXBsZV9idXR0b25fYWRkLAogICAgZXhhbXBsZV9idXR0b25fZ2hvc3QsCiAgICBleGFtcGxlX2J1dHRvbl9wcmltYXJ5LAogICAgZXhhbXBsZV9haW5wdXQsCiAgICBleGFtcGxlX2lucHV0X251bWJlciwKICAgIGV4YW1wbGVfYXNlbGVjdCwKICAgIGV4YW1wbGVfYXRhYmxlCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHJlbmRlckNvbnBvbmVudHNBbGw6IFtdLAogICAgICBwcmVDb21wb25lbnRLZXlzOiBbXSwKICAgICAgY29tcG9uZW50c01hcDoge30sCiAgICAgIHNlbGVjdGVkQ29tcG9uZW50OiB7fSwKICAgICAgc2VsZWN0ZWRDb21wb25lbnRDb25maWc6IHt9LAogICAgICBhdHRyaWJ1dGVzOiBbXSwKICAgICAgY29uZmlnS2V5OiAxLAogICAgICBwcmV2aWV3S2V5OiAxMDAwCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY29tcG9uZW50c01hcCA9IGNvbXBvbmVudHNNYXAoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmRyYWd1bGFJbml0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmFndWxhSW5pdCgpIHsKICAgICAgbGV0IGN1cnJlbnRLZXk7CiAgICAgIGNvbnN0IGRyYWtlID0gZHJhZ3VsYShbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiY29tcG9uZW50LWJveCIpLCAuLi5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjcHQtY29udGFpbmVyIiksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2aWV3IildLCB7CiAgICAgICAgaXNDb250YWluZXI6IGVsID0+IHsKICAgICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoImNwdC1jb250YWluZXIiKTsKICAgICAgICB9LAogICAgICAgIGNvcHk6IChlbCwgc291cmNlKSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygiZWwtc291cmNlIiwgZWwsIHNvdXJjZSkKICAgICAgICAgIGlmIChzb3VyY2UuY2xhc3NMaXN0LmNvbnRhaW5zKCJjb21wb25lbnQtYm94IikpIHsKICAgICAgICAgICAgY3VycmVudEtleSA9IGVsLmdldEF0dHJpYnV0ZSgiZGF0YS1rZXkiKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjdXJyZW50S2V5ID0gbnVsbDsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWNjZXB0czogKGVsLCB0YXJnZXQpID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVsLCB0YXJnZXQpCiAgICAgICAgICByZXR1cm4gIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImNvbXBvbmVudC1ib3giKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBkcmFrZS5vbigiZHJvcCIsIChlbCwgY29udGFpbmVyKSA9PiB7CiAgICAgICAgaWYgKGNvbnRhaW5lciAmJiAoY29udGFpbmVyLmlkID09PSAicHJldmlldyIgfHwgY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygiY3B0LWNvbnRhaW5lciIpKSAmJiBjdXJyZW50S2V5KSB7CiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgZWwuY2xhc3NMaXN0ICsgIiBpcy1jb3B5LWRvbSIpOwogICAgICAgICAgLy90aGlzLnByZUNvbXBvbmVudEtleXMgPSB0aGlzLnByZXZpZXdDb21wb25lbnRzU2NhbigpCiAgICAgICAgICB0aGlzLiRzZXQodGhpcywgJ3ByZUNvbXBvbmVudEtleXMnLCB0aGlzLnByZXZpZXdDb21wb25lbnRzU2NhbigpKTsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgbGV0IHdhaXREZWxOb2RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImlzLWNvcHktZG9tIik7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2FpdERlbE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgd2FpdERlbE5vZGVzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod2FpdERlbE5vZGVzW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZygidGhpcy5wcmVDb21wb25lbnRLZXlzIiwgdGhpcy5wcmVDb21wb25lbnRLZXlzKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJ0aGlzLnJlbmRlckNvbnBvbmVudHNBbGwiLCB0aGlzLnJlbmRlckNvbnBvbmVudHNBbGwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGRyYWtlKTsKICAgICAgLy8gZHJha2Uub24oIm91dCIsICgpID0+IHsKICAgICAgLy8gICBjb25zb2xlLmxvZygib3V0IikKICAgICAgLy8gfSkKICAgICAgLy8gZHJha2Uub24oImRyYWciLCAoKSA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2coImRyYWciKQogICAgICAvLyB9KQogICAgICAvLyBkcmFrZS5vbigiZHJvcCIsICgpID0+IHsKICAgICAgLy8gICBjb25zb2xlLmxvZygiZHJvcCIpCiAgICAgIC8vIH0pCiAgICAgIC8vIGRyYWtlLm9uKCJvdmVyIiwgKCkgPT4gewogICAgICAvLyAgIGNvbnNvbGUubG9nKCJvdmVyIikKICAgICAgLy8gfSkKICAgIH0sCgogICAgcHJldmlld0NvbXBvbmVudHNTY2FuKCkgewogICAgICBsZXQgYmFzZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2aWV3Iik7CiAgICAgIHRoaXMucmVuZGVyQ29ucG9uZW50c0FsbCA9IFtdOwogICAgICByZXR1cm4gdGhpcy5jb250YWluZXJFbGVtZW50VG9UcmVlKGJhc2VDb250YWluZXIpOwogICAgfSwKICAgIGNvbnRhaW5lckVsZW1lbnRUb1RyZWUoY29udGFpbmVyRWwpIHsKICAgICAgbGV0IGNoaWxkTm9kZXMgPSBjb250YWluZXJFbC5jaGlsZE5vZGVzOwogICAgICBsZXQgY29tcG9uZW50cyA9IFtdOwogICAgICBsZXQgbm9kZSwgY3B0S2V5LCBjaGlsZHJlbjsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbm9kZSA9IGNoaWxkTm9kZXNbaV07CiAgICAgICAgY3B0S2V5ID0gbm9kZS5nZXRBdHRyaWJ1dGUoImRhdGEta2V5Iik7CiAgICAgICAgY2hpbGRyZW4gPSBbXTsKICAgICAgICBpZiAoIWNwdEtleSkgewogICAgICAgICAgY29uc29sZS53YXJuKCJjaGlsZE5vZGVzIGtleSBub3QgZm91bmQiKTsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5lbElzQ29udGFpbmVyKGNoaWxkTm9kZXNbaV0pKSB7CiAgICAgICAgICBjaGlsZHJlbiA9IHRoaXMuY29udGFpbmVyRWxlbWVudFRvVHJlZShjaGlsZE5vZGVzW2ldKTsKICAgICAgICB9CiAgICAgICAgbGV0IGlkID0gdGhpcy5nZXRVdWlkKCk7CiAgICAgICAgY29tcG9uZW50cy5wdXNoKHsKICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgIGtleTogY3B0S2V5LAogICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLAogICAgICAgICAgY29uZmlnOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29tcG9uZW50c01hcFtjcHRLZXldLmNvbmZpZykpCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGNvbXBvbmVudHM7CiAgICB9LAogICAgZWxJc0NvbnRhaW5lcihlbCkgewogICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCJjb250YWluZXItdGFnIik7CiAgICB9LAogICAgaXNDb250YWluZXIoY3B0S2V5KSB7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IGNvbmZpZyA9IHRoaXMuY29tcG9uZW50c01hcFtjcHRLZXldLmNvbmZpZyB8fCB7fTsKICAgICAgICByZXR1cm4gY29uZmlnLmlzQ29udGFpbmVyOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiaXNDb250YWluZXIgZXJyb3IiLCBlKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBnZXRVdWlkKCkgewogICAgICByZXR1cm4gdXVpZHY0KCk7CiAgICB9LAogICAgc2VsZWN0Q29tcGVudChjb21wb25lbnQpIHsKICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudCA9IGNvbXBvbmVudDsKICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudENvbmZpZyA9IGNvbXBvbmVudC5jb25maWcgfHwge307CiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHRoaXMuc2VsZWN0ZWRDb21wb25lbnRDb25maWcuYXR0cmlidXRlc0NvbmZpZyB8fCB7fTsKICAgIH0sCiAgICBjb25maWdDaGFuZ2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJ0aGlzLmF0dHJpYnV0ZXMiLCB0aGlzLmF0dHJpYnV0ZXMpOwogICAgICBjb25zb2xlLmxvZygicHJlQ29tcG9uZW50S2V5cyIsIHRoaXMucHJlQ29tcG9uZW50S2V5cyk7CiAgICAgIGxldCBhdHRyaWJ1dGVzQ29uZmlnID0gdGhpcy5zZWxlY3RlZENvbXBvbmVudENvbmZpZy5hdHRyaWJ1dGVzQ29uZmlnOwogICAgICB0aGlzLnNlbGVjdGVkQ29tcG9uZW50Q29uZmlnLmF0dHJpYnV0ZXMgPSB7fTsKICAgICAgZm9yIChsZXQga2V5IGluIGF0dHJpYnV0ZXNDb25maWcpIHsKICAgICAgICBpZiAoYXR0cmlidXRlc0NvbmZpZ1trZXldID09PSAiIikgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIHN3aXRjaCAodHlwZW9mIGF0dHJpYnV0ZXNDb25maWdba2V5XSkgewogICAgICAgICAgY2FzZSAic3RyaW5nIjoKICAgICAgICAgIGNhc2UgIm51bWJlciI6CiAgICAgICAgICBjYXNlICJib29sZWFuIjoKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudENvbmZpZy5hdHRyaWJ1dGVzW2tleV0gPSBhdHRyaWJ1dGVzQ29uZmlnW2tleV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAib2JqZWN0IjoKICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNDb25maWdba2V5XS52YWx1ZSkgewogICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDb21wb25lbnRDb25maWcuYXR0cmlidXRlc1trZXldID0gYXR0cmlidXRlc0NvbmZpZ1trZXldLnZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmNvbmZpZ0tleSArPSAxOwogICAgICB0aGlzLnByZXZpZXdLZXkgKz0gMTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["v4","uuidv4","CptExamples","CptItem","dragula","example_alert","example_alert_info","example_alert_warning","example_abutton","example_aselect","example_atable","example_ainput","example_background_white","example_background_normal","example_background_flex","example_background_flex_between","example_button_add","example_button_ghost","example_button_primary","example_input_number","componentsMap","components","data","loading","renderConponentsAll","preComponentKeys","selectedComponent","selectedComponentConfig","attributes","configKey","previewKey","created","mounted","dragulaInit","methods","currentKey","drake","document","getElementsByClassName","getElementById","isContainer","el","classList","contains","copy","source","getAttribute","accepts","target","on","container","id","setAttribute","$set","previewComponentsScan","$nextTick","waitDelNodes","i","length","parentNode","removeChild","console","log","baseContainer","containerElementToTree","containerEl","childNodes","node","cptKey","children","warn","elIsContainer","getUuid","push","key","config","JSON","parse","stringify","e","error","selectCompent","component","attributesConfig","configChange","value","$forceUpdate"],"sources":["src/views/index.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <CptExamples id=\"examples\"></CptExamples>\n    <div id=\"preview\" :key=\"previewKey\">\n      <CptItem\n          v-for=\"(cpt,index) in preComponentKeys\"\n          :key=\"index\"\n          @click.native=\"selectCompent(cpt)\"\n          :is=\"'example_'+cpt.key\"\n          :class=\"['component-instance',{'cpt-container': isContainer(cpt.key)}]\"\n          :component=\"cpt\"\n          :data-index=\"index\"\n          :data-key=\"cpt.key\"\n          :attributes=\"cpt.config.attributes\"\n      >\n        <template v-if=\"cpt.children.length\">\n          <CptItem v-for=\"(childCpt,i) in cpt.children\"\n                   :key=\"i\"\n                   @click.native.stop=\"selectCompent(childCpt)\"\n                   :is=\"'example_'+childCpt.key\"\n                   :class=\"['component-instance',{'cpt-container': isContainer(childCpt.key)}]\"\n                   :component=\"childCpt\"\n                   :data-key=\"childCpt.key\"\n                   :attributes=\"childCpt.config.attributes\"\n          >\n            <template v-if=\"childCpt.children.length\">\n              <CptItem v-for=\"(child2Cpt,j) in childCpt.children\"\n                       :key=\"j\"\n                       @click.native.stop=\"selectCompent(child2Cpt)\"\n                       :is=\"'example_'+child2Cpt.key\"\n                       :class=\"['component-instance',{'cpt-container': isContainer(child2Cpt.key)}]\"\n                       :component=\"child2Cpt\"\n                       :data-key=\"child2Cpt.key\"\n                       :attributes=\"child2Cpt.config.attributes\"\n              >\n                <template v-if=\"child2Cpt.children.length\">\n                  <CptItem v-for=\"(child3Cpt,h) in child2Cpt.children\"\n                           :key=\"h\"\n                           @click.native.stop=\"selectCompent(child3Cpt)\"\n                           :is=\"'example_'+child3Cpt.key\"\n                           :class=\"['component-instance',{'cpt-container': isContainer(child3Cpt.key)}]\"\n                           :component=\"child3Cpt\"\n                           :data-key=\"child3Cpt.key\"\n                           :attributes=\"child3Cpt.config.attributes\"\n                  ></CptItem>\n                </template>\n              </CptItem>\n            </template>\n          </CptItem>\n        </template>\n      </CptItem>\n    </div>\n    <div id=\"config\" :key=\"configKey\">\n      <template v-for=\"(config,key) in attributes\">\n        <div class=\"config-item\"\n             :key=\"key\">\n          <span>{{ key }}：</span>\n          <div>\n            <a-textarea\n                v-if=\"typeof attributes[key] === 'string'\"\n                v-model=\"attributes[key]\"\n                @blur=\"configChange\"\n                placeholder=\"请输入\"\n            ></a-textarea>\n            <a-switch\n                v-else-if=\"typeof attributes[key] === 'boolean'\"\n                v-model=\"attributes[key]\"\n                @change=\"configChange\"\n            ></a-switch>\n            <a-select\n                v-else-if=\"attributes[key].options\"\n                v-model=\"attributes[key].value\"\n                @change=\"configChange\"\n                style=\"width: 100%\"\n                placeholder=\"请选择\"\n                allowClear\n            >\n              <a-select-option\n                  v-for=\"(option,i) in attributes[key].options\"\n                  :value=\"option\"\n                  :key=\"i\">{{ option }}\n              </a-select-option>\n            </a-select>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nimport {v4 as uuidv4} from 'uuid';\nimport CptExamples from \"@/components/cpt-examples.vue\";\nimport CptItem from \"@/components/cpt-item.vue\";\nimport dragula from \"dragula\";\nimport 'dragula/dist/dragula.min.css';\nimport example_alert from \"@/components/examples/alert.vue\";\nimport example_alert_info from \"@/components/examples/alert_info.vue\";\nimport example_alert_warning from \"@/components/examples/alert_warning.vue\";\nimport example_abutton from \"@/components/examples/abutton.vue\";\nimport example_aselect from \"@/components/examples/aselect.vue\";\nimport example_atable from \"@/components/examples/atable.vue\";\nimport example_ainput from \"@/components/examples/ainput.vue\";\nimport example_background_white from \"@/components/examples/background_white.vue\";\nimport example_background_normal from \"@/components/examples/background_normal.vue\";\nimport example_background_flex from \"@/components/examples/background_flex.vue\";\nimport example_background_flex_between from \"@/components/examples/background_flex_between.vue\";\nimport example_button_add from \"@/components/examples/button_add.vue\";\nimport example_button_ghost from \"@/components/examples/button_ghost.vue\";\nimport example_button_primary from \"@/components/examples/button_primary.vue\";\nimport example_input_number from \"@/components/examples/input_number.vue\";\nimport {componentsMap} from \"@/components/config/components\";\n\nexport default {\n  components: {\n    CptItem,\n    CptExamples,\n    example_alert,\n    example_alert_info,\n    example_alert_warning,\n    example_background_white,\n    example_background_normal,\n    example_background_flex,\n    example_background_flex_between,\n    example_abutton,\n    example_button_add,\n    example_button_ghost,\n    example_button_primary,\n    example_ainput,\n    example_input_number,\n    example_aselect,\n    example_atable,\n  },\n  data() {\n    return {\n      loading: false,\n      renderConponentsAll: [],\n      preComponentKeys: [],\n      componentsMap: {},\n      selectedComponent: {},\n      selectedComponentConfig: {},\n      attributes: [],\n      configKey: 1,\n      previewKey: 1000,\n    }\n  },\n  created() {\n    this.componentsMap = componentsMap()\n  },\n  mounted() {\n    this.dragulaInit()\n  },\n  methods: {\n    dragulaInit() {\n      let currentKey\n      const drake = dragula([\n        ...document.getElementsByClassName(\"component-box\"),\n        ...document.getElementsByClassName(\"cpt-container\"),\n        document.getElementById(\"preview\")\n      ], {\n        isContainer: (el) => {\n          return el.classList.contains(\"cpt-container\")\n        },\n        copy: (el, source) => {\n          // console.log(\"el-source\", el, source)\n          if (source.classList.contains(\"component-box\")) {\n            currentKey = el.getAttribute(\"data-key\")\n            return true\n          } else {\n            currentKey = null\n            return false\n          }\n        },\n        accepts: (el, target) => {\n          // console.log(el, target)\n          return !target.classList.contains(\"component-box\")\n        },\n      })\n      drake.on(\"drop\", (el, container) => {\n        if (container && (container.id === \"preview\" || container.classList.contains(\"cpt-container\")) && currentKey) {\n          el.setAttribute(\"class\", el.classList + \" is-copy-dom\")\n          //this.preComponentKeys = this.previewComponentsScan()\n          this.$set(this, 'preComponentKeys', this.previewComponentsScan())\n          this.$nextTick(() => {\n            let waitDelNodes = document.getElementsByClassName(\"is-copy-dom\")\n            for (let i = 0; i < waitDelNodes.length; i++) {\n              waitDelNodes[i].parentNode.removeChild(waitDelNodes[i])\n            }\n          })\n          console.log(\"this.preComponentKeys\", this.preComponentKeys)\n          console.log(\"this.renderConponentsAll\", this.renderConponentsAll)\n        }\n      })\n      console.log(drake)\n      // drake.on(\"out\", () => {\n      //   console.log(\"out\")\n      // })\n      // drake.on(\"drag\", () => {\n      //   console.log(\"drag\")\n      // })\n      // drake.on(\"drop\", () => {\n      //   console.log(\"drop\")\n      // })\n      // drake.on(\"over\", () => {\n      //   console.log(\"over\")\n      // })\n    },\n    previewComponentsScan() {\n      let baseContainer = document.getElementById(\"preview\")\n      this.renderConponentsAll = []\n      return this.containerElementToTree(baseContainer)\n    },\n    containerElementToTree(containerEl) {\n      let childNodes = containerEl.childNodes\n      let components = []\n      let node, cptKey, children\n      for (let i = 0; i < childNodes.length; i++) {\n        node = childNodes[i]\n        cptKey = node.getAttribute(\"data-key\")\n        children = []\n        if (!cptKey) {\n          console.warn(\"childNodes key not found\")\n          continue;\n        }\n        if (this.elIsContainer(childNodes[i])) {\n          children = this.containerElementToTree(childNodes[i])\n        }\n        let id = this.getUuid()\n        components.push({\n          id: id,\n          key: cptKey,\n          children: children,\n          config: JSON.parse(JSON.stringify(this.componentsMap[cptKey].config))\n        })\n      }\n      return components\n    },\n    elIsContainer(el) {\n      return el.classList.contains(\"container-tag\")\n    },\n    isContainer(cptKey) {\n      try {\n        let config = this.componentsMap[cptKey].config || {}\n        return config.isContainer\n      } catch (e) {\n        console.error(\"isContainer error\", e)\n        return false\n      }\n    },\n    getUuid() {\n      return uuidv4()\n    },\n    selectCompent(component) {\n      this.selectedComponent = component\n      this.selectedComponentConfig = component.config || {}\n      this.attributes = this.selectedComponentConfig.attributesConfig || {}\n    },\n    configChange() {\n      console.log(\"this.attributes\", this.attributes)\n      console.log(\"preComponentKeys\", this.preComponentKeys)\n      let attributesConfig = this.selectedComponentConfig.attributesConfig\n      this.selectedComponentConfig.attributes = {}\n      for (let key in attributesConfig) {\n        if (attributesConfig[key] === \"\") {\n          continue\n        }\n        switch (typeof attributesConfig[key]) {\n          case \"string\":\n          case \"number\":\n          case \"boolean\":\n            this.selectedComponentConfig.attributes[key] = attributesConfig[key]\n            break\n          case \"object\":\n            if (attributesConfig[key].value) {\n              this.selectedComponentConfig.attributes[key] = attributesConfig[key].value\n            }\n            break\n        }\n      }\n      this.configKey += 1\n      this.previewKey += 1\n      this.$forceUpdate()\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.container {\n  height: 100vh;\n  display: flex;\n  background: rgb(240, 242, 245);\n\n  > div {\n    height: 100%;\n    overflow-y: scroll;\n  }\n\n  #examples {\n    flex-shrink: 0;\n    width: 300px;\n\n    /deep/ .container-tag {\n      padding: 20px 40px;\n      border: 1px solid #2475fc;\n    }\n  }\n\n  #preview-loading,\n  #preview {\n    flex: 1;\n    margin: 24px;\n    background: #FFFFFF;\n    height: calc(100vh - 48px);\n\n    /deep/ .container-tag {\n      min-height: 120px;\n      border: 1px solid #e8e8e8;\n    }\n  }\n\n  #config {\n    width: 300px;\n    flex-shrink: 0;\n    background: #FFFFFF;\n\n    .config-item {\n      display: flex;\n      padding: 8px 24px;\n\n      > span {\n        margin-right: 8px;\n        flex-shrink: 0;\n        width: 100px;\n      }\n\n      > div {\n        flex: 1;\n      }\n    }\n  }\n}\n\n</style>"],"mappings":"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"}]}